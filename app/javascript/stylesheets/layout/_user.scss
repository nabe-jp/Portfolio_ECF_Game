/*    ユーザーページの設定    */
:root {
  --page-font-title: 2rem;
  --page-font-nav: 1.3rem;
  --box-font-title: 1.3rem;
  --box-font-nickname: 1.2rem;
  --box-font-bio: 1.2rem;
  --box-font-name: 1.2rem;
  --box-font-email: 1.2rem;
}

// プロフィールページの設定
.user-profile-page {
  margin-top: 1rem;

  .text-center {
    font-size: var(--page-font-title);
    margin-bottom: 2rem;
  }

  .nav-tabs {
    font-size: var(--page-font-nav);
    margin-bottom: 1rem;
  }

  // プロフィール表示ボックスの設定
  .profile-box {
    display: flex;
    align-items: center;                // 縦方向の中央揃え
    justify-content: center;            // 横方向の中央揃え
    width: 100%;
    gap: 3rem;                          // 画像とテキストの間隔
    padding: 2rem 1rem;
    box-sizing: border-box;             // paddingを要素のサイズに含める
  }

  // ボックスの設定
  .profile-box__image-wrapper{
    display: flex;
    justify-content: flex-end;
    flex: 0 0 30%;                      // 30%の幅を取る
  }

  // 画像のサイズ調整
  .profile-box__image {
    width: 200px;
    aspect-ratio: 1 / 1;                // 幅に応じて高さを自動で決定(正方形)
    border-radius: 50%;
    object-fit: cover;
  }

  // ボックスの設定
  .profile-box__info {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    gap: 1rem;                          // ニックネームと自己紹介の間隔
    flex: 1;                            // 残りの要素すべて
  }

  // ニックネーム、自己紹介の内容の設定
  .profile-box__info-item {
    display: flex;
    flex-direction: column;
    align-items: flex-start;            // 左揃え
    gap: 0.5rem;                        // タイトルと内容の間隔
    width: 100%;                        // 横幅を100%にして、狭くなる領域にも対応
  }

  // ニックネーム、自己紹介のタイトルの設定
  .profile-box__title {
    font-weight: bold;
    font-size: var(--box-font-title);
  }

  // ニックネームの設定
  .profile-box__nickname {
    white-space: nowrap;                // 折り返しなし
    overflow: hidden;
    text-overflow: ellipsis;            // 省略記号を表示
    font-size: var(--box-font-nickname);
  }

  // 自己紹介の設定
  .profile-box__bio {
    white-space: normal;                // 折り返しあり
    font-size: var(--box-font-bio);
  }
}

/*    公開プロフィールの編集ページの設定    */
// マイページ全体のレイアウト
.user-profile-edit-title {
  --edit-font-title: 1.3rem;

  font-size: var(--edit-font-title);
  text-align: center;
}

// 公開プロフィールのフォーム内の設定
.user-profile-edit {
  --edit-font-label: 1.1rem;
  --edit-font-input: 1rem;
  --edit-font-file-input: 1rem;
  --edit-font-textarea: 1rem;

  display: flex;
  flex-direction: column;
  gap: 1.5rem;

  label {
    font-size: var(--edit-font-label);
    font-weight: bold;
    margin: 0;                        // 初期設定のマージンをリセット
  }

  &__row {
    display: flex;
    align-items: center;
    gap: 2rem;
  }

  &__label {
    width: 30%;
  }

  &__input-wrapper {
    flex: 1;                          // 残りをすべて埋める
  }

  &__input,
  &__file-input,
  &__textarea {
    width: 100%;
    padding: 0.5rem;
    border-radius: 4px;
    border: 1px solid #ccc;
  }

  &__input,
  &__textarea {
    padding: 0.5rem;
  }

  &__input {
    font-size: var(--edit-font-input);
  }

  &__file-input {
    font-size: var(--edit-font-file-input);
    border: none;
    padding-left: 0;
  }

  &__textarea {
    height: 90px;
    resize: vertical;                 // ユーザーがtextareaの高さだけを変更でき、横幅は固定
    font-size: var(--edit-font-textarea);
  }

  &__bio-section {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;              // 左右中央揃え
  }

  &__bio-input-wrapper {
    width: 100%;
  }
}

/*    マイページの設定    */
// マイページ全体のレイアウト
.mypage__container {
  display: flex;
  justify-content: space-between;     // 左右に分ける
  gap: 2rem;

  // 左右のボックスの設定
  .mypage__container-left-column-title, 
  .mypage__container-right-column-title {
    text-align: center;               // 中央寄せ
    font-size: var(--page-font-title);
    font-weight: bold;                // 太字にして目立たせる
  }

  // 左(公開プロフィール)のボックスの設定
  .mypage__container-left-column {
    flex: 0 0 60%;                    // 60%の幅を取る

    // マイページ用に変更(親要素の幅が小さくなるのでマイページではボックス幅を広くする、相方はflex: 1;)
    .profile-box__image-wrapper{
      flex: 0 0 50%;
    }
  }

  // 右(個人情報)のボックスの設定
  .mypage__container-right-column {
    flex: 1;                          // 残りの要素すべて
  
    // 名前、メールアドレスの設定
    .profile-box__name, .profile-box__email {
      white-space: normal;            // 折り返しあり
    }

    // 名前の設定
    .profile-box__name {
      font-size: var(--box-font-name);
    }
    
    // メールアドレスの設定
    .profile-box__email {
      font-size: var(--box-font-email);
    }
  }

  // 左右のボタンを中央揃え
  .mypage__left-button-wrapper, 
  .mypage__right-button-wrapper {
    display: flex;
    justify-content: center;          // 左右中央揃え
    align-items: center;              // 縦中央揃え
  }
}

/*    ユーザーの設定ページの設定    */
// ページタイトル
.user-setting-page {
  .text-center {
    font-size: var(--page-font-title);
    margin-bottom: 2rem;
  }
}

// 戻る以外のボタンの設定
.user-setting-btn {
  .btn-base {
    width: calc(100% - 2rem);           // btn-baseに設定されているマージン分を引いた大きさのボタン
  }
}

// レスポンシブ調整
@media (max-width: 1024px) {
  :root {
    --page-font-title: 1.6rem;
    --page-font-nav: 1.1rem;
    --box-font-title: 1.1rem;
    --box-font-nickname: 1rem;
    --box-font-bio: 1rem;
    --box-font-name: 1rem;
    --box-font-email: 1rem;
  }

  .user-profile-page, 
  .user-setting-page {
    margin-top: 0.75rem;

    .text-center {
      margin-bottom: 1.5rem;
    }
  }

  .user-profile-page {
    .profile-box {
      padding: 1.5rem 0.75rem;
      gap: 2rem;
    }

    .profile-box__image {
      width: 140px;
    }

    .profile-box__info {
      gap: 0.75rem;
    }

    .profile-box__info-item {
      gap: 0.35rem;
    }
  }

  .user-profile-edit {
    --edit-font-label: 1rem;
    --edit-font-input: 0.9rem;
    --edit-font-file-input: 0.9rem;
    --edit-font-textarea: 0.9rem;

    gap: 1.25rem;

    &__row {
      gap: 1.5rem;
    }
  }

  .mypage__container {
    gap: 1.5rem;
  }

  .user-setting-btn {
    .btn-base {
      width: calc(90% - 2rem);        // ボタンを少し小さくする(初期設定は100％-2rem)
    }
  }
}

@media (max-width: 768px) {
  :root {
    --page-font-title: 1.4rem;
    --page-font-nav: 1rem;
    --box-font-title: 1rem;
    --box-font-nickname: 0.9rem;
    --box-font-bio: 0.9rem;
    --box-font-name: 0.9rem;
    --box-font-email: 0.9rem;
  }

  .user-profile-page, 
  .user-setting-page {
    margin-top: 0.6rem;

    .text-center {
      margin-bottom: 1.2rem;
    }
  }
  
  .user-profile-page{
    .nav-tabs {
      margin-bottom: 0.75rem;
    }

    .nav-link {
      padding: 0.4rem 0.8rem;
    }

    .profile-box {
      padding: 1rem 0.5rem;
      gap: 1.5rem;
    }

    .profile-box__image {
      width: 120px;
    }

    .profile-box__info {
      gap: 0.5rem;
    }

    .profile-box__info-item {
      gap: 0.25rem;
    }
  }

  .user-profile-edit-title {
    --edit-font-title: 1.1rem
  }

  .user-profile-edit {
    --edit-font-label: 0.9rem;
    --edit-font-input: 0.8rem;
    --edit-font-file-input: 0.8rem;
    --edit-font-textarea: 0.8rem;

    gap: 1rem;

    &__row {
      gap: 1rem;
    }

    &__input,
    &__file-input,
    &__textarea {
      border-radius: 3px;
    }

    &__bio-section {
      gap: 0.75rem;
    }
  }

  .mypage__container {
    gap: 1.25rem;
  }

  .user-setting-btn {
    .btn-base {
      width: calc(100% - 2rem);       // 初期設定に戻す
    }
  }
}

@media (max-width: 480px) {
  :root {
    --page-font-title: 1.2rem;
    --page-font-nav: 0.8rem;
    --box-font-title: 0.8rem;
    --box-font-nickname: 0.75rem;
    --box-font-bio: 0.75rem;
    --box-font-name: 0.75rem;
    --box-font-email: 0.75rem;
  }

  .user-profile-page, 
  .user-setting-page {
    margin-top: 0.25rem;

    .text-center {
      margin-bottom: 1rem;
    }
  }

  .user-profile-page {
    .nav-tabs {
      margin-bottom: 0.5rem;
    }

    .nav-link {
      padding: 0.3rem 0.6rem;
    }

    .profile-box {
      padding: 0.5rem 0.25rem;
      gap: 0.75rem;
    }

    .profile-box__image {
      width: 100px;
    }

    .profile-box__info-item {
      gap: 0;
    }
  }

  .user-profile-edit-title {
    --edit-font-title: 0.8rem
  }

  .user-profile-edit {
    --edit-font-label: 0.75rem;
    --edit-font-input: 0.7rem;
    --edit-font-file-input: 0.7rem;
    --edit-font-textarea: 0.7rem;

    gap: 0.75rem;

    &__row {
      gap: 0.75rem;
    }

    &__input,
    &__file-input,
    &__textarea {
      border-radius: 2px;
    }

    &__input,
    &__textarea {
      padding: 0.25rem;
    }

    &__bio-section {
      gap: 0.5rem;
    }
  }

  .mypage__container {
    flex-direction: column;           // 縦並びに変更
    align-items: center;              // 縦方向の中央揃え
    gap: 1rem;

    // 縦並びになるので各ボックス幅をすべて使用に変更
    .mypage__container-left-column, 
    .mypage__container-right-column, 
    .mypage__left-button-wrapper, 
    .mypage__right-button-wrapper {
      width: 100%;
    }

    .mypage__container-left-column {
      // 公開プロフィールと同じ表示に戻す
      .profile-box__image-wrapper {
        flex: 0 0 30%;
      }
    }

    // 公開プロフィールの左余白と合わせる
    .mypage__container-right-column {
      .user-profile-page {
        padding: 0 1.5rem;
        box-sizing: border-box;
      }
    }

    // 左右のボタンのボックスの設定
    .mypage__left-button-wrapper, 
    .mypage__right-button-wrapper {
      flex-direction: column;       // 縦並び
      gap: 1rem;                    // 左右ボタンのつなぎ目を自然にする為、mypage__containerのgapと同じ値

      // ボタンを中央で同じ大きさで表示するため幅を指定し、align-selfを解除
      .btn-base {
        width: 50%;
        align-self: auto;
      }
    }

    // ボタン群は左右対象にする為、mypage__containerを分けているのでつなぎ目を自然にする為、gapと同じ値を取る
    .mypage__left-button-wrapper {
      margin-top: 1rem;
    }
  }

  .user-setting-btn {
    .btn-base {
      width: 45%;
    }
  }
}

// 管理ツールを使用して確認を行った際に@media (max-width: 375px)では機能しなかったため376pxと定義
@media (max-width: 376px) {
  .mypage__container-right-column {
    .user-profile-page {
      padding: 0 1rem;
    }
  }
}

@media (max-width: 320px) {
  :root {
    --page-font-title: 1.0rem;
    --page-font-nav: 0.65rem;
    --box-font-title: 0.65rem;
    --box-font-nickname: 0.625rem;
    --box-font-bio: 0.625rem;
    --box-font-name: 0.625rem;
    --box-font-email: 0.625rem;
  }

  .user-profile-page {
    .nav-link {
      padding: 0.25rem 0.5rem;
    }

    .profile-box {
      padding: 0.25rem 0;
    }

    .profile-box__image {
      width: 80px;
    }

    .profile-box__info {
      gap: 0.25rem;
    }
  }

  .user-profile-edit-title {
    --edit-font-title: 0.75rem
  }

  .user-profile-edit {
    --edit-font-label: 0.725rem;
    --edit-font-input: 0.7rem;
    --edit-font-file-input: 0.65rem;
    --edit-font-textarea: 0.7rem;

    gap: 0.5rem;

    &__row {
      gap: 0.25rem;
    }

    &__input,
    &__file-input,
    &__textarea {
      border-radius: 1.5px;
    }

    &__bio-section {
      gap: 0.25rem;
    }
  }

  .mypage__container {
    gap: 0.75rem;

    .mypage__left-button-wrapper, 
    .mypage__right-button-wrapper {
      gap: 0.75rem;
    }

    .mypage__left-button-wrapper {
      margin-top: 0.75rem;
    }
  }

  .user-setting-btn {
    .btn-base {
      width: 50%;
    }
  }
}