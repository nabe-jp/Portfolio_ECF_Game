<% if @group.present? && @group_post.present? %>
  <%= form_with model: @group_post, url: form_action_url, method: form_method, local: true, 
    html: { class: "group-post-form" } do |f| %>

    <div class="group-post-form__title-box">
      <%= f.label :title, "投稿のタイトル" %>
      <%= f.text_field :title, class: "group-post-form__title-input", 
        placeholder: group_post_title_placeholder, maxlength: GroupPost::TITLE_MAX_LENGTH %>
    </div>
  
    <div class="group-post-form__image-box">
      <%= f.label :group_post_image, "投稿画像" %>
      <%= f.file_field :group_post_image, class: "group-post-form__image-input" %>
    </div>
  
    <div class="group-post-form__body-box">
      <%= f.label :body, "投稿の内容" %>
      <%= f.text_area :body, class: "group-post-form__body-input", 
        placeholder: group_post_body_placeholder, maxlength: GroupPost::BODY_MAX_LENGTH %>
    </div>

    <div class="group-post-form__visible-box">
      <div class="group-post-form__checkbox-row">
        <%= f.check_box :visible_to_non_members, id: "visible_to_non_members" %>
        <%= f.label :visible_to_non_members, "閲覧許可" %>
      </div>
      <p class="group-post-form__note">
        ※チェックを入れるとグループに参加していないユーザーもこの投稿を閲覧可能になります。
      </p>
    </div>

    <div class="text-center">
      <%= f.submit submit_label ||= "更新する", class: "btn btn-base update-btn" %>
    </div>
  <% end %>
<% else %>
  <p class="empty-message">投稿が見つかりませんでした。</p>
<% end %>